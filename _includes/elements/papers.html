<div class="publications-list">
  {% for pub in site.data.publication %}
  <div class="publication">
    <h4 class="title">{{ pub.title }}</h4>
    <p class="authors">
      {% for author in pub.authors %}
        <strong>{{ author }}</strong>{% if forloop.last == false %}, {% endif %}
      {% endfor %}
    </p>
    <p class="source"><em>{{ pub.source }}</em></p>
    <p class="presented-at">{{ pub.presented_at }}</p>
    <div class="links">
      <a href="javascript:void(0);" onclick="toggleAbstract({{ forloop.index }})" class="abs-button">Abstract</a>
      <div id="abstract-{{ forloop.index }}" style="display:none;">
        <p>{{ pub.abstract }}</p>
      </div>
      &nbsp;
      {% if pub.links[0].html %}
        <a href="{{ pub.links[0].html }}" class="html-button">Link</a>
      {% endif %}
      &nbsp; 
      {% if pub.links[1].pdf %}
        <a href="{{ pub.links[1].pdf }}" class="pdf-button">PDF</a>
      {% endif %}
    </div>
  </div>
  <hr>
  {% endfor %}
</div>

<script>
function toggleAbstract(index) {
  var abstract = document.getElementById('abstract-' + index);
  if (abstract.style.display === 'none') {
    abstract.style.display = 'block';
  } else {
    abstract.style.display = 'none';
  }
}
</script>